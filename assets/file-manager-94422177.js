import{h as te,cb as se,r as u,c as F,bY as _,l as M,j as e,co as fe,cu as W,S as D,av as H,T as B,a9 as ye,cl as J,bI as ae,F as re,e as d,d as N,b_ as q,O as L,D as K,B as I,x as s,f as P,cg as Q,cy as ve,I as we,N as Te,A as ke,dd as Fe,E as le,er as De,bN as X,y as Re,es as Se,et as Ie,C as Pe,dx as Ae,dB as z,W as Ee}from"./index-fc31389b.js";import{E as Le}from"./empty-content-f8c8f2e9.js";import{C as V}from"./confirm-dialog-3542fb36.js";import{e as Me,u as Oe,g as Be}from"./use-table-8a0e2383.js";import{T as ze,b as Ne,a as $e,c as We,d as Ue,e as Ge}from"./table-pagination-custom-fa4dd545.js";import{u as _e}from"./use-double-click-b0f679f6.js";import{u as ie}from"./use-copy-to-clipboard-f221079b.js";import{a as ce}from"./format-number-8ee044d8.js";import{F as de,a as Y,b as Z,c as He,d as U}from"./file-manager-folder-item-17053659.js";import{T as E}from"./TablePagination-d87dbc27.js";import{C as O}from"./Checkbox-1984f828.js";import{A as pe}from"./AvatarGroup-fdb08457.js";import{T as qe,a as Ke,b as Ve}from"./TableContainer-2a71c457.js";import{s as he,C as Ye}from"./custom-date-range-picker-d6a48a99.js";import{T as Je}from"./TextField-c5c5e45f.js";import{T as Qe}from"./text-max-line-a968abe6.js";import{C as ee}from"./Chip-276a27ce.js";import{T as Xe,a as oe}from"./ToggleButtonGroup-553dc77c.js";import"./DialogTitle-79e656a6.js";import"./dialogTitleClasses-ab79cbbb.js";import"./DialogContent-1d2c436b.js";import"./DialogActions-cfb1f284.js";import"./FormControlLabel-f8d84e00.js";import"./Switch-eb36a74c.js";import"./SwitchBase-8d5bb026.js";import"./ListItem-c8d87749.js";import"./ListItemSecondaryAction-e6a07c9d.js";import"./Autocomplete-79c5288c.js";import"./Select-5f4f2f3f.js";import"./Menu-40ee519e.js";import"./Close-2819fb88.js";import"./upload-avatar-2f1e41c5.js";import"./fade-b19d01ee.js";import"./index-ec23ed6d.js";import"./image-9d9e55ff.js";import"./FirstPage-356a7ad5.js";import"./DatePicker-8c2b151f.js";import"./FormControl-47574643.js";import"./FormLabel-a4ed3336.js";function xe({row:o,selected:i,onSelectRow:p,onDeleteRow:n}){const l=te(),{name:h,size:b,type:a,modifiedAt:C,shared:t,isFavorited:g}=o,{enqueueSnackbar:x}=se(),{copy:m}=ie(),[y,f]=u.useState(""),j=F(g),w=F(),c=F(),T=F(),v=_(),r=u.useCallback(S=>{f(S.target.value)},[]),R=_e({click:()=>{w.onTrue()},doubleClick:()=>console.info("DOUBLE CLICK")}),A=u.useCallback(()=>{x("Copied!"),m(o.url)},[m,x,o.url]),k={borderTop:`solid 1px ${M(l.palette.grey[500],.16)}`,borderBottom:`solid 1px ${M(l.palette.grey[500],.16)}`,"&:first-of-type":{borderTopLeftRadius:16,borderBottomLeftRadius:16,borderLeft:`solid 1px ${M(l.palette.grey[500],.16)}`},"&:last-of-type":{borderTopRightRadius:16,borderBottomRightRadius:16,borderRight:`solid 1px ${M(l.palette.grey[500],.16)}`}};return e.jsxs(e.Fragment,{children:[e.jsxs(ze,{selected:i,sx:{borderRadius:2,[`&.${fe.selected}, &:hover`]:{backgroundColor:"background.paper",boxShadow:l.customShadows.z20,transition:l.transitions.create(["background-color","box-shadow"],{duration:l.transitions.duration.shortest}),"&:hover":{backgroundColor:"background.paper",boxShadow:l.customShadows.z20}},[`& .${W.root}`]:{...k},...w.value&&{[`& .${W.root}`]:{...k}}},children:[e.jsx(E,{padding:"checkbox",children:e.jsx(O,{checked:i,onDoubleClick:()=>console.info("ON DOUBLE CLICK"),onClick:p})}),e.jsx(E,{onClick:R,children:e.jsxs(D,{direction:"row",alignItems:"center",spacing:2,children:[e.jsx(H,{file:a,sx:{width:36,height:36}}),e.jsx(B,{noWrap:!0,variant:"inherit",sx:{maxWidth:360,cursor:"pointer",...w.value&&{fontWeight:"fontWeightBold"}},children:h})]})}),e.jsx(E,{onClick:R,sx:{whiteSpace:"nowrap"},children:ce(b)}),e.jsx(E,{onClick:R,sx:{whiteSpace:"nowrap"},children:a}),e.jsx(E,{onClick:R,sx:{whiteSpace:"nowrap"},children:e.jsx(ye,{primary:J(new Date(C),"dd MMM yyyy"),secondary:J(new Date(C),"p"),primaryTypographyProps:{typography:"body2"},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}),e.jsx(E,{align:"right",onClick:R,children:e.jsx(pe,{max:4,sx:{display:"inline-flex",[`& .${ae.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:t&&t.map(S=>e.jsx(re,{alt:S.name,src:S.avatarUrl},S.id))})}),e.jsxs(E,{align:"right",sx:{px:1,whiteSpace:"nowrap"},children:[e.jsx(O,{color:"warning",icon:e.jsx(d,{icon:"eva:star-outline"}),checkedIcon:e.jsx(d,{icon:"eva:star-fill"}),checked:j.value,onChange:j.onToggle,sx:{p:.75}}),e.jsx(N,{color:v.open?"inherit":"default",onClick:v.onOpen,children:e.jsx(d,{icon:"eva:more-vertical-fill"})})]})]}),e.jsxs(q,{open:v.open,onClose:v.onClose,arrow:"right-top",sx:{width:160},children:[e.jsxs(L,{onClick:()=>{v.onClose(),A()},children:[e.jsx(d,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(L,{onClick:()=>{v.onClose(),c.onTrue()},children:[e.jsx(d,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{T.onTrue(),v.onClose()},sx:{color:"error.main"},children:[e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(de,{item:o,favorited:j.value,onFavorite:j.onToggle,onCopyLink:A,open:w.value,onClose:w.onFalse,onDelete:n}),e.jsx(Y,{open:c.value,shared:t,inviteEmail:y,onChangeInvite:r,onCopyLink:A,onClose:()=>{c.onFalse(),f("")}}),e.jsx(V,{open:T.value,onClose:T.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(I,{variant:"contained",color:"error",onClick:n,children:"Delete"})})]})}xe.propTypes={onDeleteRow:s.func,onSelectRow:s.func,row:s.object,selected:s.bool};const Ze=[{id:"name",label:"Name"},{id:"size",label:"Size",width:120},{id:"type",label:"Type",width:120},{id:"modifiedAt",label:"Modified",width:140},{id:"shared",label:"Shared",align:"right",width:140},{id:"",width:88}];function me({table:o,tableData:i,notFound:p,onDeleteRow:n,dataFiltered:l,onOpenConfirm:h}){const b=te(),{dense:a,page:C,order:t,orderBy:g,rowsPerPage:x,selected:m,onSelectRow:y,onSelectAllRows:f,onSort:j,onChangeDense:w,onChangePage:c,onChangeRowsPerPage:T}=o,v=a?58:78;return e.jsxs(e.Fragment,{children:[e.jsxs(P,{sx:{position:"relative",m:b.spacing(-2,-3,-3,-3)},children:[e.jsx(Ne,{dense:a,numSelected:m.length,rowCount:i.length,onSelectAllRows:r=>f(r,i.map(R=>R.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(Q,{title:"Share",children:e.jsx(N,{color:"primary",children:e.jsx(d,{icon:"solar:share-bold"})})}),e.jsx(Q,{title:"Delete",children:e.jsx(N,{color:"primary",onClick:h,children:e.jsx(d,{icon:"solar:trash-bin-trash-bold"})})})]}),sx:{pl:1,pr:2,top:16,left:24,right:24,width:"auto",borderRadius:1.5}}),e.jsx(qe,{sx:{p:b.spacing(0,3,3,3)},children:e.jsxs(Ke,{size:a?"small":"medium",sx:{minWidth:960,borderCollapse:"separate",borderSpacing:"0 16px"},children:[e.jsx($e,{order:t,orderBy:g,headLabel:Ze,rowCount:i.length,numSelected:m.length,onSort:j,onSelectAllRows:r=>f(r,i.map(R=>R.id)),sx:{[`& .${W.head}`]:{"&:first-of-type":{borderTopLeftRadius:12,borderBottomLeftRadius:12},"&:last-of-type":{borderTopRightRadius:12,borderBottomRightRadius:12}}}}),e.jsxs(Ve,{children:[l.slice(C*x,C*x+x).map(r=>e.jsx(xe,{row:r,selected:m.includes(r.id),onSelectRow:()=>y(r.id),onDeleteRow:()=>n(r.id)},r.id)),e.jsx(We,{height:v,emptyRows:Me(C,x,i.length)}),e.jsx(Ue,{notFound:p,sx:{m:-2,borderRadius:1.5,border:`dashed 1px ${b.palette.divider}`}})]})]})})]}),e.jsx(Ge,{count:l.length,page:C,rowsPerPage:x,onPageChange:c,onRowsPerPageChange:T,dense:a,onChangeDense:w,sx:{[`& .${ve.toolbar}`]:{borderTopColor:"transparent"}}})]})}me.propTypes={dataFiltered:s.array,notFound:s.bool,onDeleteRow:s.func,onOpenConfirm:s.func,table:s.object,tableData:s.array};function ue({openDateRange:o,onCloseDateRange:i,onOpenDateRange:p,filters:n,onFilters:l,dateError:h,typeOptions:b}){const a=_(),C=n.type.length?n.type.slice(0,2).join(","):"All type",t=u.useCallback(c=>{l("name",c.target.value)},[l]),g=u.useCallback(c=>{l("startDate",c)},[l]),x=u.useCallback(c=>{l("endDate",c)},[l]),m=u.useCallback(c=>{const T=n.type.includes(c)?n.type.filter(v=>v!==c):[...n.type,c];l("type",T)},[n.type,l]),y=u.useCallback(()=>{a.onClose(),l("type",[])},[l,a]),f=e.jsx(Je,{value:n.name,onChange:t,placeholder:"Search...",InputProps:{startAdornment:e.jsx(we,{position:"start",children:e.jsx(d,{icon:"eva:search-fill",sx:{color:"text.disabled"}})})},sx:{width:{xs:1,md:260}}}),j=e.jsxs(e.Fragment,{children:[e.jsxs(I,{color:"inherit",onClick:a.onOpen,endIcon:e.jsx(d,{icon:a.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:[C,n.type.length>2&&e.jsxs(Te,{color:"info",sx:{ml:1},children:["+",n.type.length-2]})]}),e.jsx(q,{open:a.open,onClose:a.onClose,sx:{p:2.5},children:e.jsxs(D,{spacing:2.5,children:[e.jsx(P,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(2, 1fr)",sm:"repeat(4, 1fr)"},children:b.map(c=>{const T=n.type.includes(c);return e.jsx(ke,{onClick:()=>m(c),sx:{p:1,borderRadius:1,cursor:"pointer",border:v=>`solid 1px ${M(v.palette.grey[500],.08)}`,...T&&{bgcolor:"action.selected"}},children:e.jsxs(D,{spacing:1,direction:"row",alignItems:"center",children:[e.jsx(H,{file:c}),e.jsx(B,{variant:T?"subtitle2":"body2",children:c})]})},c)})}),e.jsxs(D,{spacing:1.5,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[e.jsx(I,{variant:"outlined",color:"inherit",onClick:y,children:"Clear"}),e.jsx(I,{variant:"contained",onClick:a.onClose,children:"Apply"})]})]})})]}),w=e.jsxs(e.Fragment,{children:[e.jsx(I,{color:"inherit",onClick:p,endIcon:e.jsx(d,{icon:o?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill",sx:{ml:-.5}}),children:n.startDate&&n.endDate?he(n.startDate,n.endDate):"Select Date"}),e.jsx(Ye,{variant:"calendar",startDate:n.startDate,endDate:n.endDate,onChangeStartDate:g,onChangeEndDate:x,open:o,onClose:i,selected:!!n.startDate&&!!n.endDate,error:h})]});return e.jsxs(D,{spacing:1,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},sx:{width:1},children:[f,e.jsxs(D,{spacing:1,direction:"row",alignItems:"center",justifyContent:"flex-end",flexGrow:1,children:[w,j]})]})}ue.propTypes={dateError:s.bool,filters:s.object,onCloseDateRange:s.func,onFilters:s.func,onOpenDateRange:s.func,openDateRange:s.bool,typeOptions:s.array};function ge({file:o,selected:i,onSelect:p,onDelete:n,sx:l,...h}){var A;const{enqueueSnackbar:b}=se(),{copy:a}=ie(),[C,t]=u.useState(""),g=F(),x=F(),m=F(),y=F(),f=F(o.isFavorited),j=_(),w=u.useCallback(k=>{t(k.target.value)},[]),c=u.useCallback(()=>{b("Copied!"),a(o.url)},[a,b,o.url]),T=(g.value||i)&&p?e.jsx(O,{size:"medium",checked:i,onClick:p,icon:e.jsx(d,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(d,{icon:"eva:checkmark-circle-2-fill"}),sx:{p:.75}}):e.jsx(H,{file:o.type,sx:{width:36,height:36}}),v=e.jsxs(D,{direction:"row",alignItems:"center",sx:{top:8,right:8,position:"absolute"},children:[e.jsx(O,{color:"warning",icon:e.jsx(d,{icon:"eva:star-outline"}),checkedIcon:e.jsx(d,{icon:"eva:star-fill"}),checked:f.value,onChange:f.onToggle}),e.jsx(N,{color:j.open?"inherit":"default",onClick:j.onOpen,children:e.jsx(d,{icon:"eva:more-vertical-fill"})})]}),r=e.jsxs(e.Fragment,{children:[e.jsx(Qe,{persistent:!0,variant:"subtitle2",onClick:y.onTrue,sx:{width:1,mt:2,mb:.5},children:o.name}),e.jsxs(D,{direction:"row",alignItems:"center",sx:{maxWidth:.99,whiteSpace:"nowrap",typography:"caption",color:"text.disabled"},children:[ce(o.size),e.jsx(P,{component:"span",sx:{mx:.75,width:2,height:2,flexShrink:0,borderRadius:"50%",bgcolor:"currentColor"}}),e.jsx(B,{noWrap:!0,component:"span",variant:"caption",children:Fe(o.modifiedAt)})]})]}),R=e.jsx(pe,{max:3,sx:{mt:1,[`& .${ae.avatar}`]:{width:24,height:24,"&:first-of-type":{fontSize:12}}},children:(A=o.shared)==null?void 0:A.map(k=>e.jsx(re,{alt:k.name,src:k.avatarUrl},k.id))});return e.jsxs(e.Fragment,{children:[e.jsxs(D,{component:le,variant:"outlined",alignItems:"flex-start",sx:{p:2.5,borderRadius:2,bgcolor:"unset",cursor:"pointer",position:"relative",...(g.value||i)&&{bgcolor:"background.paper",boxShadow:k=>k.customShadows.z20},...l},...h,children:[e.jsx(P,{onMouseEnter:g.onTrue,onMouseLeave:g.onFalse,children:T}),r,R,v]}),e.jsxs(q,{open:j.open,onClose:j.onClose,arrow:"right-top",sx:{width:160},children:[e.jsxs(L,{onClick:()=>{j.onClose(),c()},children:[e.jsx(d,{icon:"eva:link-2-fill"}),"Copy Link"]}),e.jsxs(L,{onClick:()=>{j.onClose(),x.onTrue()},children:[e.jsx(d,{icon:"solar:share-bold"}),"Share"]}),e.jsx(K,{sx:{borderStyle:"dashed"}}),e.jsxs(L,{onClick:()=>{m.onTrue(),j.onClose()},sx:{color:"error.main"},children:[e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),"Delete"]})]}),e.jsx(de,{item:o,favorited:f.value,onFavorite:f.onToggle,onCopyLink:c,open:y.value,onClose:y.onFalse,onDelete:()=>{y.onFalse(),n()}}),e.jsx(Y,{open:x.value,shared:o.shared,inviteEmail:C,onChangeInvite:w,onCopyLink:c,onClose:()=>{x.onFalse(),t("")}}),e.jsx(V,{open:m.value,onClose:m.onFalse,title:"Delete",content:"Are you sure want to delete?",action:e.jsx(I,{variant:"contained",color:"error",onClick:n,children:"Delete"})})]})}ge.propTypes={file:s.oneOfType([s.string,s.object]),onDelete:s.func,onSelect:s.func,selected:s.bool,sx:s.object};function je({action:o,selected:i,rowCount:p,numSelected:n,onSelectAllItems:l,sx:h,...b}){return e.jsx(De,{children:e.jsxs(P,{sx:{right:0,zIndex:9,bottom:0,display:"flex",borderRadius:1.5,position:"fixed",alignItems:"center",bgcolor:"text.primary",p:a=>a.spacing(1.5,2,1.5,1),boxShadow:a=>a.customShadows.z20,m:{xs:2,md:3},...h},...b,children:[e.jsx(O,{indeterminate:!!n&&n<p,checked:!!p&&n===p,onChange:a=>l(a.target.checked),icon:e.jsx(d,{icon:"eva:radio-button-off-fill"}),checkedIcon:e.jsx(d,{icon:"eva:checkmark-circle-2-fill"}),indeterminateIcon:e.jsx(d,{icon:"eva:minus-circle-fill"})}),i&&e.jsxs(B,{variant:"subtitle2",sx:{mr:2,color:a=>a.palette.mode==="light"?"common.white":"grey.800"},children:[i.length," Items selected"]}),o&&o]})})}je.propTypes={action:s.node,numSelected:s.number,onSelectAllItems:s.func,rowCount:s.number,selected:s.array,sx:s.object};function be({table:o,data:i,dataFiltered:p,onDeleteItem:n,onOpenConfirm:l}){const{selected:h,onSelectRow:b,onSelectAllRows:a}=o,C=u.useRef(null),[t,g]=u.useState(""),[x,m]=u.useState(""),y=F(),f=F(),j=F(),w=F(),c=F(),T=u.useCallback(r=>{m(r.target.value)},[]),v=u.useCallback(r=>{g(r.target.value)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(P,{ref:C,children:[e.jsx(Z,{title:"Folders",subTitle:`${i.filter(r=>r.type==="folder").length} folders`,onOpen:f.onTrue,collapse:c.value,onCollapse:c.onToggle}),e.jsx(X,{in:!c.value,unmountOnExit:!0,children:e.jsx(P,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},children:p.filter(r=>r.type==="folder").map(r=>e.jsx(He,{folder:r,selected:h.includes(r.id),onSelect:()=>b(r.id),onDelete:()=>n(r.id),sx:{maxWidth:"auto"}},r.id))})}),e.jsx(K,{sx:{my:5,borderStyle:"dashed"}}),e.jsx(Z,{title:"Files",subTitle:`${i.filter(r=>r.type!=="folder").length} files`,onOpen:j.onTrue,collapse:w.value,onCollapse:w.onToggle}),e.jsx(X,{in:!w.value,unmountOnExit:!0,children:e.jsx(P,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)",lg:"repeat(4, 1fr)"},gap:3,children:p.filter(r=>r.type!=="folder").map(r=>e.jsx(ge,{file:r,selected:h.includes(r.id),onSelect:()=>b(r.id),onDelete:()=>n(r.id),sx:{maxWidth:"auto"}},r.id))})}),!!(h!=null&&h.length)&&e.jsx(je,{numSelected:h.length,rowCount:i.length,selected:h,onSelectAllItems:r=>a(r,i.map(R=>R.id)),action:e.jsxs(e.Fragment,{children:[e.jsx(I,{size:"small",color:"error",variant:"contained",startIcon:e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),onClick:l,sx:{mr:1},children:"Delete"}),e.jsx(I,{color:"primary",size:"small",variant:"contained",startIcon:e.jsx(d,{icon:"solar:share-bold"}),onClick:y.onTrue,children:"Share"})]})})]}),e.jsx(Y,{open:y.value,inviteEmail:x,onChangeInvite:T,onClose:()=>{y.onFalse(),m("")}}),e.jsx(U,{open:j.value,onClose:j.onFalse}),e.jsx(U,{open:f.value,onClose:f.onFalse,title:"New Folder",onCreate:()=>{f.onFalse(),g(""),console.info("CREATE NEW FOLDER",t)},folderName:t,onChangeFolderName:v})]})}be.propTypes={data:s.array,dataFiltered:s.array,onDeleteItem:s.func,onOpenConfirm:s.func,table:s.object};function Ce({filters:o,onFilters:i,canReset:p,onResetFilters:n,results:l,...h}){const b=he(o.startDate,o.endDate),a=t=>{const g=o.type.filter(x=>x!==t);i("type",g)},C=()=>{i("startDate",null),i("endDate",null)};return e.jsxs(D,{spacing:1.5,...h,children:[e.jsxs(P,{sx:{typography:"body2"},children:[e.jsx("strong",{children:l}),e.jsx(P,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(D,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!o.type.length&&e.jsx(G,{label:"Types:",children:o.type.map(t=>e.jsx(ee,{label:t,size:"small",onDelete:()=>a(t)},t))}),o.startDate&&o.endDate&&e.jsx(G,{label:"Date:",children:e.jsx(ee,{size:"small",label:b,onDelete:C})}),p&&e.jsx(I,{color:"error",onClick:n,startIcon:e.jsx(d,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}Ce.propTypes={canReset:s.bool,filters:s.object,onFilters:s.func,onResetFilters:s.func,results:s.number};function G({label:o,children:i,sx:p,...n}){return e.jsxs(D,{component:le,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...p},...n,children:[e.jsx(P,{component:"span",sx:{typography:"subtitle2"},children:o}),e.jsx(D,{spacing:1,direction:"row",flexWrap:"wrap",children:i})]})}G.propTypes={children:s.node,label:s.string,sx:s.object};const ne={name:"",type:[],startDate:null,endDate:null};function eo(){const o=Oe({defaultRowsPerPage:10}),i=Re(),p=F(),n=F(),l=F(),[h,b]=u.useState("list"),[a,C]=u.useState(Se),[t,g]=u.useState(ne),x=t.startDate&&t.endDate?t.startDate.getTime()>t.endDate.getTime():!1,m=oo({inputData:a,comparator:Be(o.order,o.orderBy),filters:t,dateError:x}),y=m.slice(o.page*o.rowsPerPage,o.page*o.rowsPerPage+o.rowsPerPage),f=!!t.name||!!t.type.length||!!t.startDate&&!!t.endDate,j=!m.length&&f||!m.length,w=u.useCallback((k,S)=>{S!==null&&b(S)},[]),c=u.useCallback((k,S)=>{o.onResetPage(),g($=>({...$,[k]:S}))},[o]),T=u.useCallback(k=>{const S=a.filter($=>$.id!==k);C(S),o.onUpdatePageDeleteRow(y.length)},[y.length,o,a]),v=u.useCallback(()=>{const k=a.filter(S=>!o.selected.includes(S.id));C(k),o.onUpdatePageDeleteRows({totalRows:a.length,totalRowsInPage:y.length,totalRowsFiltered:m.length})},[m.length,y.length,o,a]),r=u.useCallback(()=>{g(ne)},[]),R=e.jsxs(D,{spacing:2,direction:{xs:"column",md:"row"},alignItems:{xs:"flex-end",md:"center"},children:[e.jsx(ue,{openDateRange:p.value,onCloseDateRange:p.onFalse,onOpenDateRange:p.onTrue,filters:t,onFilters:c,dateError:x,typeOptions:Ie}),e.jsxs(Xe,{size:"small",value:h,exclusive:!0,onChange:w,children:[e.jsx(oe,{value:"list",children:e.jsx(d,{icon:"solar:list-bold"})}),e.jsx(oe,{value:"grid",children:e.jsx(d,{icon:"mingcute:dot-grid-fill"})})]})]}),A=e.jsx(Ce,{filters:t,onResetFilters:r,canReset:f,onFilters:c,results:m.length});return e.jsxs(e.Fragment,{children:[e.jsxs(Pe,{maxWidth:i.themeStretch?!1:"lg",children:[e.jsxs(D,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[e.jsx(B,{variant:"h4",children:"File Manager"}),e.jsx(I,{variant:"contained",startIcon:e.jsx(d,{icon:"eva:cloud-upload-fill"}),onClick:l.onTrue,children:"Upload"})]}),e.jsxs(D,{spacing:2.5,sx:{my:{xs:3,md:5}},children:[R,f&&A]}),j?e.jsx(Le,{filled:!0,title:"No Data",sx:{py:10}}):e.jsx(e.Fragment,{children:h==="list"?e.jsx(me,{table:o,tableData:a,dataFiltered:m,onDeleteRow:T,notFound:j,onOpenConfirm:n.onTrue}):e.jsx(be,{table:o,data:a,dataFiltered:m,onDeleteItem:T,onOpenConfirm:n.onTrue})})]}),e.jsx(U,{open:l.value,onClose:l.onFalse}),e.jsx(V,{open:n.value,onClose:n.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",o.selected.length," "]})," items?"]}),action:e.jsx(I,{variant:"contained",color:"error",onClick:()=>{v(),n.onFalse()},children:"Delete"})})]})}function oo({inputData:o,comparator:i,filters:p,dateError:n}){const{name:l,type:h,startDate:b,endDate:a}=p,C=o.map((t,g)=>[t,g]);return C.sort((t,g)=>{const x=i(t[0],g[0]);return x!==0?x:t[1]-g[1]}),o=C.map(t=>t[0]),l&&(o=o.filter(t=>t.name.toLowerCase().indexOf(l.toLowerCase())!==-1)),h.length&&(o=o.filter(t=>h.includes(Ae(t.type)))),n||b&&a&&(o=o.filter(t=>z(t.createdAt)>=z(b)&&z(t.createdAt)<=z(a))),o}function Uo(){return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{children:e.jsx("title",{children:" Dashboard: File Manager"})}),e.jsx(eo,{})]})}export{Uo as default};
