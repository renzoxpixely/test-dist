import{x as s,r as m,af as Cr,j as u,au as sr,S as B,m as Ne,l as x,av as Ge,d as Ee,e as W,a9 as Pr,E as _r,f as P,T as le,aw as Sr,B as Ye}from"./index-fc31389b.js";import{a as cr}from"./format-number-8ee044d8.js";import{v as qe}from"./fade-b19d01ee.js";import{A as Ir}from"./index-ec23ed6d.js";import{I as lr}from"./image-9d9e55ff.js";function H(e,r,t,n){function o(i){return i instanceof t?i:new t(function(l){l(i)})}return new(t||(t=Promise))(function(i,l){function p(d){try{c(n.next(d))}catch(v){l(v)}}function g(d){try{c(n.throw(d))}catch(v){l(v)}}function c(d){d.done?i(d.value):o(d.value).then(p,g)}c((n=n.apply(e,r||[])).next())})}function N(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,l;return l={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function p(c){return function(d){return g([c,d])}}function g(c){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,c[0]&&(t=0)),t;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,o=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){t.label=c[1];break}if(c[0]===6&&t.label<i[1]){t.label=i[1],i=c;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(c);break}i[2]&&t.ops.pop(),t.trys.pop();continue}c=r.call(e,t)}catch(d){c=[6,d],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ve(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],l;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(p){l={error:p}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(l)throw l.error}}return i}function Je(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}var Tr=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function X(e,r){var t=Rr(e);if(typeof t.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof r=="string"?r:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Rr(e){var r=e.name,t=r&&r.lastIndexOf(".")!==-1;if(t&&!e.type){var n=r.split(".").pop().toLowerCase(),o=Tr.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var kr=[".DS_Store","Thumbs.db"];function zr(e){return H(this,void 0,void 0,function(){return N(this,function(r){return ue(e)&&Mr(e.dataTransfer)?[2,Ur(e.dataTransfer,e.type)]:Lr(e)?[2,$r(e)]:Array.isArray(e)&&e.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Kr(e)]:[2,[]]})})}function Mr(e){return ue(e)}function Lr(e){return ue(e)&&ue(e.target)}function ue(e){return typeof e=="object"&&e!==null}function $r(e){return Fe(e.target.files).map(function(r){return X(r)})}function Kr(e){return H(this,void 0,void 0,function(){var r;return N(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return r=t.sent(),[2,r.map(function(n){return X(n)})]}})})}function Ur(e,r){return H(this,void 0,void 0,function(){var t,n;return N(this,function(o){switch(o.label){case 0:return e.items?(t=Fe(e.items).filter(function(i){return i.kind==="file"}),r!=="drop"?[2,t]:[4,Promise.all(t.map(Br))]):[3,2];case 1:return n=o.sent(),[2,Qe(ur(n))];case 2:return[2,Qe(Fe(e.files).map(function(i){return X(i)}))]}})})}function Qe(e){return e.filter(function(r){return kr.indexOf(r.name)===-1})}function Fe(e){if(e===null)return[];for(var r=[],t=0;t<e.length;t++){var n=e[t];r.push(n)}return r}function Br(e){if(typeof e.webkitGetAsEntry!="function")return Xe(e);var r=e.webkitGetAsEntry();return r&&r.isDirectory?pr(r):Xe(e)}function ur(e){return e.reduce(function(r,t){return Je(Je([],Ve(r),!1),Ve(Array.isArray(t)?ur(t):[t]),!1)},[])}function Xe(e){var r=e.getAsFile();if(!r)return Promise.reject("".concat(e," is not a File"));var t=X(r);return Promise.resolve(t)}function Wr(e){return H(this,void 0,void 0,function(){return N(this,function(r){return[2,e.isDirectory?pr(e):Hr(e)]})})}function pr(e){var r=e.createReader();return new Promise(function(t,n){var o=[];function i(){var l=this;r.readEntries(function(p){return H(l,void 0,void 0,function(){var g,c,d;return N(this,function(v){switch(v.label){case 0:if(p.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return g=v.sent(),t(g),[3,4];case 3:return c=v.sent(),n(c),[3,4];case 4:return[3,6];case 5:d=Promise.all(p.map(Wr)),o.push(d),i(),v.label=6;case 6:return[2]}})})},function(p){n(p)})}i()})}function Hr(e){return H(this,void 0,void 0,function(){return N(this,function(r){return[2,new Promise(function(t,n){e.file(function(o){var i=X(o,e.fullPath);t(i)},function(o){n(o)})})]})})}var Nr=function(e,r){if(e&&r){var t=Array.isArray(r)?r:r.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return t.some(function(l){var p=l.trim().toLowerCase();return p.charAt(0)==="."?n.toLowerCase().endsWith(p):p.endsWith("/*")?i===p.replace(/\/.*$/,""):o===p})}return!0};function Ze(e){return qr(e)||Yr(e)||dr(e)||Gr()}function Gr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qr(e){if(Array.isArray(e))return Oe(e)}function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?er(Object(t),!0).forEach(function(n){fr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Q(e,r){return Qr(e)||Jr(e,r)||dr(e,r)||Vr()}function Vr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dr(e,r){if(e){if(typeof e=="string")return Oe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Oe(e,r)}}function Oe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Jr(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw p}}return n}}function Qr(e){if(Array.isArray(e))return e}var Xr="file-invalid-type",Zr="file-too-large",et="file-too-small",rt="too-many-files",tt=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:Xr,message:"File type must be ".concat(t)}},tr=function(r){return{code:Zr,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},nr=function(r){return{code:et,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},nt={code:rt,message:"Too many files"};function gr(e,r){var t=e.type==="application/x-moz-file"||Nr(e,r);return[t,t?null:tt(r)]}function mr(e,r,t){if(z(e.size))if(z(r)&&z(t)){if(e.size>t)return[!1,tr(t)];if(e.size<r)return[!1,nr(r)]}else{if(z(r)&&e.size<r)return[!1,nr(r)];if(z(t)&&e.size>t)return[!1,tr(t)]}return[!0,null]}function z(e){return e!=null}function ot(e){var r=e.files,t=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,l=e.maxFiles,p=e.validator;return!i&&r.length>1||i&&l>=1&&r.length>l?!1:r.every(function(g){var c=gr(g,t),d=Q(c,1),v=d[0],O=mr(g,n,o),_=Q(O,1),S=_[0],I=p?p(g):null;return v&&S&&!I})}function pe(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function ce(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function or(e){e.preventDefault()}function it(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function at(e){return e.indexOf("Edge/")!==-1}function st(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return it(e)||at(e)}function C(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),l=1;l<o;l++)i[l-1]=arguments[l];return r.some(function(p){return!pe(n)&&p&&p.apply(void 0,[n].concat(i)),pe(n)})}}function ct(){return"showOpenFilePicker"in window}function lt(e){if(z(e)){var r=Object.entries(e).filter(function(t){var n=Q(t,2),o=n[0],i=n[1],l=!0;return yr(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(i)||!i.every(vr))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,n){var o=Q(n,2),i=o[0],l=o[1];return rr(rr({},t),{},fr({},i,l))},{});return[{description:"Files",accept:r}]}return e}function ut(e){if(z(e))return Object.entries(e).reduce(function(r,t){var n=Q(t,2),o=n[0],i=n[1];return[].concat(Ze(r),[o],Ze(i))},[]).filter(function(r){return yr(r)||vr(r)}).join(",")}function pt(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ft(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function yr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function vr(e){return/^.*\.[\w]+$/.test(e)}var dt=["children"],gt=["open"],mt=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],yt=["refKey","onChange","onClick"];function vt(e){return xt(e)||bt(e)||hr(e)||ht()}function ht(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xt(e){if(Array.isArray(e))return Ce(e)}function Ae(e,r){return jt(e)||Dt(e,r)||hr(e,r)||wt()}function wt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e,r){if(e){if(typeof e=="string")return Ce(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ce(e,r)}}function Ce(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Dt(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,i=!1,l,p;try{for(t=t.call(e);!(o=(l=t.next()).done)&&(n.push(l.value),!(r&&n.length===r));o=!0);}catch(g){i=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(i)throw p}}return n}}function jt(e){if(Array.isArray(e))return e}function ir(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ir(Object(t),!0).forEach(function(n){Pe(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Pe(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function fe(e,r){if(e==null)return{};var t=At(e,r),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(r.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(t[n]=e[n])}return t}function At(e,r){if(e==null)return{};var t={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(r.indexOf(o)>=0)&&(t[o]=e[o]);return t}var Se=m.forwardRef(function(e,r){var t=e.children,n=fe(e,dt),o=de(n),i=o.open,l=fe(o,gt);return m.useImperativeHandle(r,function(){return{open:i}},[i]),Cr.createElement(m.Fragment,null,t(y(y({},l),{},{open:i})))});Se.displayName="Dropzone";var br={disabled:!1,getFilesFromEvent:zr,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Se.defaultProps=br;Se.propTypes={children:s.func,accept:s.objectOf(s.arrayOf(s.string)),multiple:s.bool,preventDropOnDocument:s.bool,noClick:s.bool,noKeyboard:s.bool,noDrag:s.bool,noDragEventsBubbling:s.bool,minSize:s.number,maxSize:s.number,maxFiles:s.number,disabled:s.bool,getFilesFromEvent:s.func,onFileDialogCancel:s.func,onFileDialogOpen:s.func,useFsAccessApi:s.bool,autoFocus:s.bool,onDragEnter:s.func,onDragLeave:s.func,onDragOver:s.func,onDrop:s.func,onDropAccepted:s.func,onDropRejected:s.func,onError:s.func,validator:s.func};var _e={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function de(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=y(y({},br),e),t=r.accept,n=r.disabled,o=r.getFilesFromEvent,i=r.maxSize,l=r.minSize,p=r.multiple,g=r.maxFiles,c=r.onDragEnter,d=r.onDragLeave,v=r.onDragOver,O=r.onDrop,_=r.onDropAccepted,S=r.onDropRejected,I=r.onFileDialogCancel,R=r.onFileDialogOpen,w=r.useFsAccessApi,M=r.autoFocus,G=r.preventDropOnDocument,Z=r.noClick,Y=r.noKeyboard,ee=r.noDrag,T=r.noDragEventsBubbling,q=r.onError,b=r.validator,V=m.useMemo(function(){return ut(t)},[t]),Te=m.useMemo(function(){return lt(t)},[t]),ge=m.useMemo(function(){return typeof R=="function"?R:ar},[R]),re=m.useMemo(function(){return typeof I=="function"?I:ar},[I]),j=m.useRef(null),F=m.useRef(null),Dr=m.useReducer(Et,_e),Re=Ae(Dr,2),me=Re[0],A=Re[1],jr=me.isFocused,ke=me.isFileDialogActive,te=m.useRef(typeof window<"u"&&window.isSecureContext&&w&&ct()),ze=function(){!te.current&&ke&&setTimeout(function(){if(F.current){var f=F.current.files;f.length||(A({type:"closeDialog"}),re())}},300)};m.useEffect(function(){return window.addEventListener("focus",ze,!1),function(){window.removeEventListener("focus",ze,!1)}},[F,ke,re,te]);var L=m.useRef([]),Me=function(f){j.current&&j.current.contains(f.target)||(f.preventDefault(),L.current=[])};m.useEffect(function(){return G&&(document.addEventListener("dragover",or,!1),document.addEventListener("drop",Me,!1)),function(){G&&(document.removeEventListener("dragover",or),document.removeEventListener("drop",Me))}},[j,G]),m.useEffect(function(){return!n&&M&&j.current&&j.current.focus(),function(){}},[j,M,n]);var k=m.useCallback(function(a){q?q(a):console.error(a)},[q]),Le=m.useCallback(function(a){a.preventDefault(),a.persist(),ae(a),L.current=[].concat(vt(L.current),[a.target]),ce(a)&&Promise.resolve(o(a)).then(function(f){if(!(pe(a)&&!T)){var h=f.length,D=h>0&&ot({files:f,accept:V,minSize:l,maxSize:i,multiple:p,maxFiles:g,validator:b}),E=h>0&&!D;A({isDragAccept:D,isDragReject:E,isDragActive:!0,type:"setDraggedFiles"}),c&&c(a)}}).catch(function(f){return k(f)})},[o,c,k,T,V,l,i,p,g,b]),$e=m.useCallback(function(a){a.preventDefault(),a.persist(),ae(a);var f=ce(a);if(f&&a.dataTransfer)try{a.dataTransfer.dropEffect="copy"}catch{}return f&&v&&v(a),!1},[v,T]),Ke=m.useCallback(function(a){a.preventDefault(),a.persist(),ae(a);var f=L.current.filter(function(D){return j.current&&j.current.contains(D)}),h=f.indexOf(a.target);h!==-1&&f.splice(h,1),L.current=f,!(f.length>0)&&(A({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),ce(a)&&d&&d(a))},[j,d,T]),ne=m.useCallback(function(a,f){var h=[],D=[];a.forEach(function(E){var J=gr(E,V),U=Ae(J,2),ve=U[0],he=U[1],be=mr(E,l,i),se=Ae(be,2),xe=se[0],we=se[1],De=b?b(E):null;if(ve&&xe&&!De)h.push(E);else{var je=[he,we];De&&(je=je.concat(De)),D.push({file:E,errors:je.filter(function(Or){return Or})})}}),(!p&&h.length>1||p&&g>=1&&h.length>g)&&(h.forEach(function(E){D.push({file:E,errors:[nt]})}),h.splice(0)),A({acceptedFiles:h,fileRejections:D,type:"setFiles"}),O&&O(h,D,f),D.length>0&&S&&S(D,f),h.length>0&&_&&_(h,f)},[A,p,V,l,i,g,O,_,S,b]),oe=m.useCallback(function(a){a.preventDefault(),a.persist(),ae(a),L.current=[],ce(a)&&Promise.resolve(o(a)).then(function(f){pe(a)&&!T||ne(f,a)}).catch(function(f){return k(f)}),A({type:"reset"})},[o,ne,k,T]),$=m.useCallback(function(){if(te.current){A({type:"openDialog"}),ge();var a={multiple:p,types:Te};window.showOpenFilePicker(a).then(function(f){return o(f)}).then(function(f){ne(f,null),A({type:"closeDialog"})}).catch(function(f){pt(f)?(re(f),A({type:"closeDialog"})):ft(f)?(te.current=!1,F.current?(F.current.value=null,F.current.click()):k(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):k(f)});return}F.current&&(A({type:"openDialog"}),ge(),F.current.value=null,F.current.click())},[A,ge,re,w,ne,k,Te,p]),Ue=m.useCallback(function(a){!j.current||!j.current.isEqualNode(a.target)||(a.key===" "||a.key==="Enter"||a.keyCode===32||a.keyCode===13)&&(a.preventDefault(),$())},[j,$]),Be=m.useCallback(function(){A({type:"focus"})},[]),We=m.useCallback(function(){A({type:"blur"})},[]),He=m.useCallback(function(){Z||(st()?setTimeout($,0):$())},[Z,$]),K=function(f){return n?null:f},ye=function(f){return Y?null:K(f)},ie=function(f){return ee?null:K(f)},ae=function(f){T&&f.stopPropagation()},Ar=m.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.refKey,h=f===void 0?"ref":f,D=a.role,E=a.onKeyDown,J=a.onFocus,U=a.onBlur,ve=a.onClick,he=a.onDragEnter,be=a.onDragOver,se=a.onDragLeave,xe=a.onDrop,we=fe(a,mt);return y(y(Pe({onKeyDown:ye(C(E,Ue)),onFocus:ye(C(J,Be)),onBlur:ye(C(U,We)),onClick:K(C(ve,He)),onDragEnter:ie(C(he,Le)),onDragOver:ie(C(be,$e)),onDragLeave:ie(C(se,Ke)),onDrop:ie(C(xe,oe)),role:typeof D=="string"&&D!==""?D:"presentation"},h,j),!n&&!Y?{tabIndex:0}:{}),we)}},[j,Ue,Be,We,He,Le,$e,Ke,oe,Y,ee,n]),Er=m.useCallback(function(a){a.stopPropagation()},[]),Fr=m.useMemo(function(){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=a.refKey,h=f===void 0?"ref":f,D=a.onChange,E=a.onClick,J=fe(a,yt),U=Pe({accept:V,multiple:p,type:"file",style:{display:"none"},onChange:K(C(D,oe)),onClick:K(C(E,Er)),tabIndex:-1},h,F);return y(y({},U),J)}},[F,t,p,oe,n]);return y(y({},me),{},{isFocused:jr&&!n,getRootProps:Ar,getInputProps:Fr,rootRef:j,inputRef:F,open:K($)})}function Et(e,r){switch(r.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},_e),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return y({},_e);default:return e}}function ar(){}function xr({thumbnail:e,files:r,onRemove:t,sx:n}){return u.jsx(Ir,{initial:!1,children:r==null?void 0:r.map(o=>{const{key:i,name:l="",size:p=0}=sr(o),g=typeof o=="string";return e?u.jsxs(B,{component:Ne.div,...qe().inUp,alignItems:"center",display:"inline-flex",justifyContent:"center",sx:{m:.5,width:80,height:80,borderRadius:1.25,overflow:"hidden",position:"relative",border:c=>`solid 1px ${x(c.palette.grey[500],.16)}`,...n},children:[u.jsx(Ge,{tooltip:!0,imageView:!0,file:o,sx:{position:"absolute"},imgSx:{position:"absolute"}}),t&&u.jsx(Ee,{size:"small",onClick:()=>t(o),sx:{p:.5,top:4,right:4,position:"absolute",color:"common.white",bgcolor:c=>x(c.palette.grey[900],.48),"&:hover":{bgcolor:c=>x(c.palette.grey[900],.72)}},children:u.jsx(W,{icon:"mingcute:close-line",width:14})})]},i):u.jsxs(B,{component:Ne.div,...qe().inUp,spacing:2,direction:"row",alignItems:"center",sx:{my:1,py:1,px:1.5,borderRadius:1,border:c=>`solid 1px ${x(c.palette.grey[500],.16)}`,...n},children:[u.jsx(Ge,{file:o}),u.jsx(Pr,{primary:g?o:l,secondary:g?"":cr(p),secondaryTypographyProps:{component:"span",typography:"caption"}}),t&&u.jsx(Ee,{size:"small",onClick:()=>t(o),children:u.jsx(W,{icon:"mingcute:close-line",width:16})})]},i)})})}xr.propTypes={files:s.array,onRemove:s.func,sx:s.object,thumbnail:s.bool};function Ie({fileRejections:e}){return e.length?u.jsx(_r,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:r=>x(r.palette.error.main,.08)},children:e.map(({file:r,errors:t})=>{const{path:n,size:o}=sr(r);return u.jsxs(P,{sx:{my:1},children:[u.jsxs(le,{variant:"subtitle2",noWrap:!0,children:[n," - ",o?cr(o):""]}),t.map(i=>u.jsxs(P,{component:"span",sx:{typography:"caption"},children:["- ",i.message]},i.code))]},n)})}):null}Ie.propTypes={fileRejections:s.array};function wr({imgUrl:e=""}){return u.jsx(P,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:u.jsx(lr,{alt:"file preview",src:e,sx:{width:1,height:1,borderRadius:1}})})}wr.propTypes={imgUrl:s.string};function Ft({disabled:e,multiple:r=!1,error:t,helperText:n,file:o,onDelete:i,files:l,thumbnail:p,onUpload:g,onRemove:c,onRemoveAll:d,sx:v,...O}){const{getRootProps:_,getInputProps:S,isDragActive:I,isDragReject:R,fileRejections:w}=de({multiple:r,disabled:e,...O}),M=!!o&&!r,G=!!l&&r&&!!l.length,Z=R||!!t,Y=u.jsxs(B,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[u.jsx(Sr,{sx:{width:1,maxWidth:200}}),u.jsxs(B,{spacing:1,sx:{textAlign:"center"},children:[u.jsx(le,{variant:"h6",children:"Drop or Select file"}),u.jsxs(le,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",u.jsx(P,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),ee=u.jsx(wr,{imgUrl:typeof o=="string"?o:o==null?void 0:o.preview}),T=M&&i&&u.jsx(Ee,{size:"small",onClick:i,sx:{top:16,right:16,zIndex:9,position:"absolute",color:b=>x(b.palette.common.white,.8),bgcolor:b=>x(b.palette.grey[900],.72),"&:hover":{bgcolor:b=>x(b.palette.grey[900],.48)}},children:u.jsx(W,{icon:"mingcute:close-line",width:18})}),q=G&&u.jsxs(u.Fragment,{children:[u.jsx(P,{sx:{my:3},children:u.jsx(xr,{files:l,thumbnail:p,onRemove:c})}),u.jsxs(B,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[d&&u.jsx(Ye,{color:"inherit",variant:"outlined",size:"small",onClick:d,children:"Remove All"}),g&&u.jsx(Ye,{size:"small",variant:"contained",onClick:g,startIcon:u.jsx(W,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return u.jsxs(P,{sx:{width:1,position:"relative",...v},children:[u.jsxs(P,{..._(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:b=>x(b.palette.grey[500],.08),border:b=>`1px dashed ${x(b.palette.grey[500],.2)}`,transition:b=>b.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...I&&{opacity:.72},...e&&{opacity:.48,pointerEvents:"none"},...Z&&{color:"error.main",borderColor:"error.main",bgcolor:b=>x(b.palette.error.main,.08)},...M&&{padding:"24% 0"}},children:[u.jsx("input",{...S()}),M?ee:Y]}),T,n&&n,u.jsx(Ie,{fileRejections:w}),q]})}Ft.propTypes={disabled:s.object,error:s.bool,file:s.oneOfType([s.string,s.object]),files:s.array,helperText:s.object,multiple:s.bool,onDelete:s.func,onRemove:s.func,onRemoveAll:s.func,onUpload:s.func,sx:s.object,thumbnail:s.bool};function Ot({placeholder:e,error:r,disabled:t,sx:n,...o}){const{getRootProps:i,getInputProps:l,isDragActive:p,isDragReject:g}=de({disabled:t,...o}),c=g||r;return u.jsxs(P,{...i(),sx:{m:.5,width:64,height:64,flexShrink:0,display:"flex",borderRadius:1,cursor:"pointer",alignItems:"center",color:"text.disabled",justifyContent:"center",bgcolor:d=>x(d.palette.grey[500],.08),border:d=>`dashed 1px ${x(d.palette.grey[500],.16)}`,...p&&{opacity:.72},...t&&{opacity:.48,pointerEvents:"none"},...c&&{color:"error.main",borderColor:"error.main",bgcolor:d=>x(d.palette.error.main,.08)},"&:hover":{opacity:.72},...n},children:[u.jsx("input",{...l()}),e||u.jsx(W,{icon:"eva:cloud-upload-fill",width:28})]})}Ot.propTypes={disabled:s.object,error:s.bool,placeholder:s.object,sx:s.object};function Ct({error:e,file:r,disabled:t,helperText:n,sx:o,...i}){const{getRootProps:l,getInputProps:p,isDragActive:g,isDragReject:c,fileRejections:d}=de({multiple:!1,disabled:t,accept:{"image/*":[]},...i}),v=!!r,O=c||!!e,_=typeof r=="string"?r:r==null?void 0:r.preview,S=v&&u.jsx(lr,{alt:"avatar",src:_,sx:{width:1,height:1,borderRadius:"50%"}}),I=u.jsxs(B,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:{top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:w=>x(w.palette.grey[500],.08),transition:w=>w.transitions.create(["opacity"],{duration:w.transitions.duration.shorter}),"&:hover":{opacity:.72},...O&&{color:"error.main",bgcolor:w=>x(w.palette.error.main,.08)},...v&&{zIndex:9,opacity:0,color:"common.white",bgcolor:w=>x(w.palette.grey[900],.64)}},children:[u.jsx(W,{icon:"solar:camera-add-bold",width:32}),u.jsx(le,{variant:"caption",children:r?"Update photo":"Upload photo"})]}),R=u.jsxs(P,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[S,I]});return u.jsxs(u.Fragment,{children:[u.jsxs(P,{...l(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:w=>`1px dashed ${x(w.palette.grey[500],.2)}`,...g&&{opacity:.72},...t&&{opacity:.48,pointerEvents:"none"},...O&&{borderColor:"error.main"},...v&&{...O&&{bgcolor:w=>x(w.palette.error.main,.08)},"&:hover .upload-placeholder":{opacity:1}},...o},children:[u.jsx("input",{...p()}),R]}),n&&n,u.jsx(Ie,{fileRejections:d})]})}Ct.propTypes={disabled:s.object,error:s.bool,file:s.oneOfType([s.string,s.object]),helperText:s.object,sx:s.object};export{xr as M,Ct as U,Ft as a,Ot as b};
