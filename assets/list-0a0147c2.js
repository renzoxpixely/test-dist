import{y as U,a as L,c as k,r as i,e3 as m,c3 as A,p as g,j as s,C as B,B as j,R as D,e as P,q as E,v as N,l as I,w as O,N as _,e6 as H,cg as W,d as q,ck as z,e4 as V,W as $}from"./index-fc31389b.js";import{e as G,f as J,g as K}from"./profile-followers-62ed1a9f.js";import{C as M}from"./confirm-dialog-3542fb36.js";import{C as Q}from"./custom-breadcrumbs-55e72b55.js";import{u as X,g as Y,e as Z}from"./use-table-8a0e2383.js";import{b as ee,a as te,c as se,d as oe,e as ae}from"./table-pagination-custom-fa4dd545.js";import{T as le,a as re,b as ne}from"./TableContainer-2a71c457.js";import"./rhf-autocomplete-947a9911.js";import"./upload-avatar-2f1e41c5.js";import"./format-number-8ee044d8.js";import"./fade-b19d01ee.js";import"./index-ec23ed6d.js";import"./image-9d9e55ff.js";import"./TextField-c5c5e45f.js";import"./FormControl-47574643.js";import"./FormLabel-a4ed3336.js";import"./Select-5f4f2f3f.js";import"./Menu-40ee519e.js";import"./Checkbox-1984f828.js";import"./SwitchBase-8d5bb026.js";import"./Chip-276a27ce.js";import"./FormControlLabel-f8d84e00.js";import"./FormGroup-32a713d2.js";import"./Switch-eb36a74c.js";import"./editor-a8953f53.js";import"./highlight-ad88e5bf.js";import"./Slider-7bd9077b.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-715ee6cf.js";import"./Radio-d0af1f14.js";import"./Autocomplete-79c5288c.js";import"./Close-2819fb88.js";import"./yup-674d2aca.js";import"./LoadingButton-1fae9005.js";import"./CircularProgress-d1c25c6e.js";import"./DialogTitle-79e656a6.js";import"./dialogTitleClasses-ab79cbbb.js";import"./DialogContent-1d2c436b.js";import"./Alert-31e34607.js";import"./DialogActions-cfb1f284.js";import"./TablePagination-d87dbc27.js";import"./FirstPage-356a7ad5.js";import"./CardHeader-a7b93930.js";import"./AvatarGroup-fdb08457.js";import"./Fab-38e4925e.js";import"./use-light-box-6fa02391.js";import"./empty-content-f8c8f2e9.js";const ie=[{value:"all",label:"All"},...V],de=[{id:"name",label:"Name"},{id:"phoneNumber",label:"Phone Number",width:180},{id:"company",label:"Company",width:220},{id:"role",label:"Role",width:180},{id:"status",label:"Status",width:100},{id:"",width:88}],b={name:"",role:[],status:"all"};function ce(){const e=X(),x=U(),p=L(),d=k(),[l,h]=i.useState(m),[n,a]=i.useState(b),r=me({inputData:l,comparator:Y(e.order,e.orderBy),filters:n}),c=r.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage),R=e.dense?52:72,f=!A(b,n),C=!r.length&&f||!r.length,u=i.useCallback((t,o)=>{e.onResetPage(),a(w=>({...w,[t]:o}))},[e]),T=i.useCallback(t=>{const o=l.filter(w=>w.id!==t);h(o),e.onUpdatePageDeleteRow(c.length)},[c.length,e,l]),v=i.useCallback(()=>{const t=l.filter(o=>!e.selected.includes(o.id));h(t),e.onUpdatePageDeleteRows({totalRows:l.length,totalRowsInPage:c.length,totalRowsFiltered:r.length})},[r.length,c.length,e,l]),S=i.useCallback(t=>{p.push(g.dashboard.user.edit(t))},[p]),F=i.useCallback((t,o)=>{u("status",o)},[u]),y=i.useCallback(()=>{a(b)},[]);return s.jsxs(s.Fragment,{children:[s.jsxs(B,{maxWidth:x.themeStretch?!1:"lg",children:[s.jsx(Q,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"User",href:g.dashboard.user.root},{name:"List"}],action:s.jsx(j,{component:D,href:g.dashboard.user.new,variant:"contained",startIcon:s.jsx(P,{icon:"mingcute:add-line"}),children:"New User"}),sx:{mb:{xs:3,md:5}}}),s.jsxs(E,{children:[s.jsx(N,{value:n.status,onChange:F,sx:{px:2.5,boxShadow:t=>`inset 0 -2px 0 0 ${I(t.palette.grey[500],.08)}`},children:ie.map(t=>s.jsx(O,{iconPosition:"end",value:t.value,label:t.label,icon:s.jsxs(_,{variant:(t.value==="all"||t.value===n.status)&&"filled"||"soft",color:t.value==="active"&&"success"||t.value==="pending"&&"warning"||t.value==="banned"&&"error"||"default",children:[t.value==="all"&&m.length,t.value==="active"&&m.filter(o=>o.status==="active").length,t.value==="pending"&&m.filter(o=>o.status==="pending").length,t.value==="banned"&&m.filter(o=>o.status==="banned").length,t.value==="rejected"&&m.filter(o=>o.status==="rejected").length]})},t.value))}),s.jsx(G,{filters:n,onFilters:u,roleOptions:H}),f&&s.jsx(J,{filters:n,onFilters:u,onResetFilters:y,results:r.length,sx:{p:2.5,pt:0}}),s.jsxs(le,{sx:{position:"relative",overflow:"unset"},children:[s.jsx(ee,{dense:e.dense,numSelected:e.selected.length,rowCount:l.length,onSelectAllRows:t=>e.onSelectAllRows(t,l.map(o=>o.id)),action:s.jsx(W,{title:"Delete",children:s.jsx(q,{color:"primary",onClick:d.onTrue,children:s.jsx(P,{icon:"solar:trash-bin-trash-bold"})})})}),s.jsx(z,{children:s.jsxs(re,{size:e.dense?"small":"medium",sx:{minWidth:960},children:[s.jsx(te,{order:e.order,orderBy:e.orderBy,headLabel:de,rowCount:l.length,numSelected:e.selected.length,onSort:e.onSort,onSelectAllRows:t=>e.onSelectAllRows(t,l.map(o=>o.id))}),s.jsxs(ne,{children:[r.slice(e.page*e.rowsPerPage,e.page*e.rowsPerPage+e.rowsPerPage).map(t=>s.jsx(K,{row:t,selected:e.selected.includes(t.id),onSelectRow:()=>e.onSelectRow(t.id),onDeleteRow:()=>T(t.id),onEditRow:()=>S(t.id)},t.id)),s.jsx(se,{height:R,emptyRows:Z(e.page,e.rowsPerPage,l.length)}),s.jsx(oe,{notFound:C})]})]})})]}),s.jsx(ae,{count:r.length,page:e.page,rowsPerPage:e.rowsPerPage,onPageChange:e.onChangePage,onRowsPerPageChange:e.onChangeRowsPerPage,dense:e.dense,onChangeDense:e.onChangeDense})]})]}),s.jsx(M,{open:d.value,onClose:d.onFalse,title:"Delete",content:s.jsxs(s.Fragment,{children:["Are you sure want to delete ",s.jsxs("strong",{children:[" ",e.selected.length," "]})," items?"]}),action:s.jsx(j,{variant:"contained",color:"error",onClick:()=>{v(),d.onFalse()},children:"Delete"})})]})}function me({inputData:e,comparator:x,filters:p}){const{name:d,status:l,role:h}=p,n=e.map((a,r)=>[a,r]);return n.sort((a,r)=>{const c=x(a[0],r[0]);return c!==0?c:a[1]-r[1]}),e=n.map(a=>a[0]),d&&(e=e.filter(a=>a.name.toLowerCase().indexOf(d.toLowerCase())!==-1)),l!=="all"&&(e=e.filter(a=>a.status===l)),h.length&&(e=e.filter(a=>h.includes(a.role))),e}function lt(){return s.jsxs(s.Fragment,{children:[s.jsx($,{children:s.jsx("title",{children:" Dashboard: User List"})}),s.jsx(ce,{})]})}export{lt as default};
