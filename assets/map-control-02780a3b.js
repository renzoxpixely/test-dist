import{r as s,b2 as B,bW as $,h as W,j as p,bX as Z,s as D,n as q,x as E,f as V}from"./index-fc31389b.js";const G=s.createContext(null);function K(e,t){const o=Array.isArray(e)?e[0]:e?e.x:0,n=Array.isArray(e)?e[1]:e?e.y:0,r=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0;return o===r&&n===i}function h(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!h(e[o],t[o]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const o=Object.keys(e),n=Object.keys(t);if(o.length!==n.length)return!1;for(const r of o)if(!t.hasOwnProperty(r)||!h(e[r],t[r]))return!1;return!0}return!1}function Q(e){const t=e.clone();return t.pixelsToGLUnits=e.pixelsToGLUnits,t}function j(e,t){if(!e.getProjection)return;const o=e.getProjection(),n=t.getProjection();h(o,n)||t.setProjection(o)}function P(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function A(e,t){const o=t.viewState||t;let n=!1;if("longitude"in o&&"latitude"in o){const r=e.center;e.center=new r.constructor(o.longitude,o.latitude),n=n||r!==e.center}if("zoom"in o){const r=e.zoom;e.zoom=o.zoom,n=n||r!==e.zoom}if("bearing"in o){const r=e.bearing;e.bearing=o.bearing,n=n||r!==e.bearing}if("pitch"in o){const r=e.pitch;e.pitch=o.pitch,n=n||r!==e.pitch}return o.padding&&!e.isPaddingEqual(o.padding)&&(n=!0,e.padding=o.padding),n}const J=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function N(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const n of e.layers)t[n.id]=n;const o=e.layers.map(n=>{let r=null;"interactive"in n&&(r=Object.assign({},n),delete r.interactive);const i=t[n.ref];if(i){r=r||Object.assign({},n),delete r.ref;for(const a of J)a in i&&(r[a]=i[a])}return r||n});return{...e,layers:o}}const O={version:8,sources:{},layers:[]},F={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},T={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},I={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},X=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Y=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class L{constructor(t,o,n){this._map=null,this._internalUpdate=!1,this._inRender=!1,this._hoveredFeatures=null,this._deferredEvents={move:!1,zoom:!1,pitch:!1,rotate:!1},this._onEvent=r=>{const i=this.props[I[r.type]];i?i(r):r.type==="error"&&console.error(r.error)},this._onPointerEvent=r=>{(r.type==="mousemove"||r.type==="mouseout")&&this._updateHover(r);const i=this.props[F[r.type]];i&&(this.props.interactiveLayerIds&&r.type!=="mouseover"&&r.type!=="mouseout"&&(r.features=this._hoveredFeatures||this._queryRenderedFeatures(r.point)),i(r),delete r.features)},this._onCameraEvent=r=>{if(!this._internalUpdate){const i=this.props[T[r.type]];i&&i(r)}r.type in this._deferredEvents&&(this._deferredEvents[r.type]=!1)},this._MapClass=t,this.props=o,this._initialize(n)}get map(){return this._map}get transform(){return this._renderTransform}setProps(t){const o=this.props;this.props=t;const n=this._updateSettings(t,o);n&&this._createShadowTransform(this._map);const r=this._updateSize(t),i=this._updateViewState(t,!0);this._updateStyle(t,o),this._updateStyleComponents(t,o),this._updateHandlers(t,o),(n||r||i&&!this._map.isMoving())&&this.redraw()}static reuse(t,o){const n=L.savedMaps.pop();if(!n)return null;const r=n.map,i=r.getContainer();for(o.className=i.className;i.childNodes.length>0;)o.appendChild(i.childNodes[0]);r._container=o;const a=r._resizeObserver;a&&(a.disconnect(),a.observe(o)),n.setProps({...t,styleDiffing:!1}),r.resize();const{initialViewState:l}=t;return l&&(l.bounds?r.fitBounds(l.bounds,{...l.fitBoundsOptions,duration:0}):n._updateViewState(l,!1)),r.isStyleLoaded()?r.fire("load"):r.once("styledata",()=>r.fire("load")),r._update(),n}_initialize(t){const{props:o}=this,{mapStyle:n=O}=o,r={...o,...o.initialViewState,accessToken:o.mapboxAccessToken||ee()||null,container:t,style:N(n)},i=r.initialViewState||r.viewState||r;if(Object.assign(r,{center:[i.longitude||0,i.latitude||0],zoom:i.zoom||0,pitch:i.pitch||0,bearing:i.bearing||0}),o.gl){const d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=d,o.gl)}const a=new this._MapClass(r);i.padding&&a.setPadding(i.padding),o.cursor&&(a.getCanvas().style.cursor=o.cursor),this._createShadowTransform(a);const l=a._render;a._render=d=>{this._inRender=!0,l.call(a,d),this._inRender=!1};const u=a._renderTaskQueue.run;a._renderTaskQueue.run=d=>{u.call(a._renderTaskQueue,d),this._onBeforeRepaint()},a.on("render",()=>this._onAfterRepaint());const c=a.fire;a.fire=this._fireEvent.bind(this,c),a.on("resize",()=>{this._renderTransform.resize(a.transform.width,a.transform.height)}),a.on("styledata",()=>{this._updateStyleComponents(this.props,{}),j(a.transform,this._renderTransform)}),a.on("sourcedata",()=>this._updateStyleComponents(this.props,{}));for(const d in F)a.on(d,this._onPointerEvent);for(const d in T)a.on(d,this._onCameraEvent);for(const d in I)a.on(d,this._onEvent);this._map=a}recycle(){const o=this.map.getContainer().querySelector("[mapboxgl-children]");o==null||o.remove(),L.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;!this._inRender&&t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_createShadowTransform(t){const o=Q(t.transform);t.painter.transform=o,this._renderTransform=o}_updateSize(t){const{viewState:o}=t;if(o){const n=this._map;if(o.width!==n.transform.width||o.height!==n.transform.height)return n.resize(),!0}return!1}_updateViewState(t,o){if(this._internalUpdate)return!1;const n=this._map,r=this._renderTransform,{zoom:i,pitch:a,bearing:l}=r,u=n.isMoving();u&&(r.cameraElevationReference="sea");const c=A(r,{...P(n.transform),...t});if(u&&(r.cameraElevationReference="ground"),c&&o){const d=this._deferredEvents;d.move=!0,d.zoom||(d.zoom=i!==r.zoom),d.rotate||(d.rotate=l!==r.bearing),d.pitch||(d.pitch=a!==r.pitch)}return u||A(n.transform,t),c}_updateSettings(t,o){const n=this._map;let r=!1;for(const i of X)if(i in t&&!h(t[i],o[i])){r=!0;const a=n[`set${i[0].toUpperCase()}${i.slice(1)}`];a==null||a.call(n,t[i])}return r}_updateStyle(t,o){if(t.cursor!==o.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==o.mapStyle){const{mapStyle:n=O,styleDiffing:r=!0}=t,i={diff:r};return"localIdeographFontFamily"in t&&(i.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(N(n),i),!0}return!1}_updateStyleComponents(t,o){const n=this._map;let r=!1;return n.isStyleLoaded()&&("light"in t&&n.setLight&&!h(t.light,o.light)&&(r=!0,n.setLight(t.light)),"fog"in t&&n.setFog&&!h(t.fog,o.fog)&&(r=!0,n.setFog(t.fog)),"terrain"in t&&n.setTerrain&&!h(t.terrain,o.terrain)&&(!t.terrain||n.getSource(t.terrain.source))&&(r=!0,n.setTerrain(t.terrain))),r}_updateHandlers(t,o){var n,r;const i=this._map;let a=!1;for(const l of Y){const u=(n=t[l])!==null&&n!==void 0?n:!0,c=(r=o[l])!==null&&r!==void 0?r:!0;h(u,c)||(a=!0,u?i[l].enable(u):i[l].disable())}return a}_queryRenderedFeatures(t){const o=this._map,n=o.transform,{interactiveLayerIds:r=[]}=this.props;try{return o.transform=this._renderTransform,o.queryRenderedFeatures(t,{layers:r.filter(o.getLayer.bind(o))})}catch{return[]}finally{o.transform=n}}_updateHover(t){var o;const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const i=t.type,a=((o=this._hoveredFeatures)===null||o===void 0?void 0:o.length)>0,l=this._queryRenderedFeatures(t.point),u=l.length>0;!u&&a&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=l,u&&!a&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=i}else this._hoveredFeatures=null}_fireEvent(t,o,n){const r=this._map,i=r.transform,a=typeof o=="string"?o:o.type;return a==="move"&&this._updateViewState(this.props,!1),a in T&&(typeof o=="object"&&(o.viewState=P(i)),this._map.isMoving())?(r.transform=this._renderTransform,t.call(r,o,n),r.transform=i,r):(t.call(r,o,n),r)}_onBeforeRepaint(){const t=this._map;this._internalUpdate=!0;for(const n in this._deferredEvents)this._deferredEvents[n]&&t.fire(n);this._internalUpdate=!1;const o=this._map.transform;t.transform=this._renderTransform,this._onAfterRepaint=()=>{j(this._renderTransform,o),t.transform=o}}}L.savedMaps=[];function ee(){let e=null;if(typeof location<"u"){const t=/access_token=([^&\/]*)/.exec(location.search);e=t&&t[1]}try{e=e||{}.MapboxAccessToken}catch{}try{e=e||{}.REACT_APP_MAPBOX_ACCESS_TOKEN}catch{}return e}const te=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function oe(e){if(!e)return null;const t=e.map,o={getMap:()=>t,getCenter:()=>e.transform.center,getZoom:()=>e.transform.zoom,getBearing:()=>e.transform.bearing,getPitch:()=>e.transform.pitch,getPadding:()=>e.transform.padding,getBounds:()=>e.transform.getBounds(),project:n=>{const r=t.transform;t.transform=e.transform;const i=t.project(n);return t.transform=r,i},unproject:n=>{const r=t.transform;t.transform=e.transform;const i=t.unproject(n);return t.transform=r,i},queryTerrainElevation:(n,r)=>{const i=t.transform;t.transform=e.transform;const a=t.queryTerrainElevation(n,r);return t.transform=i,a},queryRenderedFeatures:(n,r)=>{const i=t.transform;t.transform=e.transform;const a=t.queryRenderedFeatures(n,r);return t.transform=i,a}};for(const n of ne(t))!(n in o)&&!te.includes(n)&&(o[n]=t[n].bind(t));return o}function ne(e){const t=new Set;let o=e;for(;o;){for(const n of Object.getOwnPropertyNames(o))n[0]!=="_"&&typeof e[n]=="function"&&n!=="fire"&&n!=="setEventedParent"&&t.add(n);o=Object.getPrototypeOf(o)}return Array.from(t)}const re=typeof document<"u"?s.useLayoutEffect:s.useEffect,ie=["baseApiUrl","maxParallelImageRequests","workerClass","workerCount","workerUrl"];function ae(e,t){for(const n of ie)n in t&&(e[n]=t[n]);const{RTLTextPlugin:o="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js"}=t;o&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"&&e.setRTLTextPlugin(o,n=>{n&&console.error(n)},!1)}const M=s.createContext(null);function se(e,t,o){const n=s.useContext(G),[r,i]=s.useState(null),a=s.useRef(),{current:l}=s.useRef({mapLib:null,map:null});s.useEffect(()=>{const d=e.mapLib;let f=!0,y;return Promise.resolve(d||o).then(_=>{if(!f)return;if(!_)throw new Error("Invalid mapLib");const g="Map"in _?_:_.default;if(!g.Map)throw new Error("Invalid mapLib");if(ae(g,e),!g.supported||g.supported(e))e.reuseMaps&&(y=L.reuse(e,a.current)),y||(y=new L(g.Map,e,a.current)),l.map=oe(y),l.mapLib=g,i(y),n==null||n.onMapMount(l.map,e.id);else throw new Error("Map is not supported by this browser")}).catch(_=>{const{onError:g}=e;g?g({type:"error",target:null,originalEvent:null,error:_}):console.error(_)}),()=>{f=!1,y&&(n==null||n.onMapUnmount(e.id),e.reuseMaps?y.recycle():y.destroy())}},[]),re(()=>{r&&r.setProps(e)}),s.useImperativeHandle(t,()=>l.map,[r]);const u=s.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),c={height:"100%"};return s.createElement("div",{id:e.id,ref:a,style:u},r&&s.createElement(M.Provider,{value:l},s.createElement("div",{"mapboxgl-children":"",style:c},e.children)))}const le=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function S(e,t){if(!e||!t)return;const o=e.style;for(const n in t){const r=t[n];Number.isFinite(r)&&!le.test(n)?o[n]=`${r}px`:o[n]=r}}function ce(e,t){const{map:o,mapLib:n}=s.useContext(M),r=s.useRef({props:e});r.current.props=e;const i=s.useMemo(()=>{let z=!1;s.Children.forEach(e.children,b=>{b&&(z=!0)});const H={...e,element:z?document.createElement("div"):null},C=new n.Marker(H);return C.setLngLat([e.longitude,e.latitude]),C.getElement().addEventListener("click",b=>{var v,m;(m=(v=r.current.props).onClick)===null||m===void 0||m.call(v,{type:"click",target:C,originalEvent:b})}),C.on("dragstart",b=>{var v,m;const x=b;x.lngLat=i.getLngLat(),(m=(v=r.current.props).onDragStart)===null||m===void 0||m.call(v,x)}),C.on("drag",b=>{var v,m;const x=b;x.lngLat=i.getLngLat(),(m=(v=r.current.props).onDrag)===null||m===void 0||m.call(v,x)}),C.on("dragend",b=>{var v,m;const x=b;x.lngLat=i.getLngLat(),(m=(v=r.current.props).onDragEnd)===null||m===void 0||m.call(v,x)}),C},[]);s.useEffect(()=>(i.addTo(o.getMap()),()=>{i.remove()}),[]);const{longitude:a,latitude:l,offset:u,style:c,draggable:d=!1,popup:f=null,rotation:y=0,rotationAlignment:_="auto",pitchAlignment:g="auto"}=e;return s.useEffect(()=>{S(i.getElement(),c)},[c]),s.useImperativeHandle(t,()=>i,[]),(i.getLngLat().lng!==a||i.getLngLat().lat!==l)&&i.setLngLat([a,l]),u&&!K(i.getOffset(),u)&&i.setOffset(u),i.isDraggable()!==d&&i.setDraggable(d),i.getRotation()!==y&&i.setRotation(y),i.getRotationAlignment()!==_&&i.setRotationAlignment(_),i.getPitchAlignment()!==g&&i.setPitchAlignment(g),i.getPopup()!==f&&i.setPopup(f),B.createPortal(e.children,i.getElement())}const ue=s.memo(s.forwardRef(ce));function U(e){return new Set(e?e.trim().split(/\s+/):[])}function de(e,t){const{map:o,mapLib:n}=s.useContext(M),r=s.useMemo(()=>document.createElement("div"),[]),i=s.useRef({props:e});i.current.props=e;const a=s.useMemo(()=>{const l={...e},u=new n.Popup(l);return u.setLngLat([e.longitude,e.latitude]),u.once("open",c=>{var d,f;(f=(d=i.current.props).onOpen)===null||f===void 0||f.call(d,c)}),u},[]);if(s.useEffect(()=>{const l=u=>{var c,d;(d=(c=i.current.props).onClose)===null||d===void 0||d.call(c,u)};return a.on("close",l),a.setDOMContent(r).addTo(o.getMap()),()=>{a.off("close",l),a.isOpen()&&a.remove()}},[]),s.useEffect(()=>{S(a.getElement(),e.style)},[e.style]),s.useImperativeHandle(t,()=>a,[]),a.isOpen()&&((a.getLngLat().lng!==e.longitude||a.getLngLat().lat!==e.latitude)&&a.setLngLat([e.longitude,e.latitude]),e.offset&&!h(a.options.offset,e.offset)&&a.setOffset(e.offset),(a.options.anchor!==e.anchor||a.options.maxWidth!==e.maxWidth)&&(a.options.anchor=e.anchor,a.setMaxWidth(e.maxWidth)),a.options.className!==e.className)){const l=U(a.options.className),u=U(e.className);for(const c of l)u.has(c)||a.removeClassName(c);for(const c of u)l.has(c)||a.addClassName(c);a.options.className=e.className}return B.createPortal(e.children,r)}const fe=s.memo(s.forwardRef(de));function w(e,t,o,n){const r=s.useContext(M),i=s.useMemo(()=>e(r),[]);return s.useEffect(()=>{const a=n||o||t,l=typeof t=="function"&&typeof o=="function"?t:null,u=typeof o=="function"?o:typeof t=="function"?t:null,{map:c}=r;return c.hasControl(i)||(c.addControl(i,a==null?void 0:a.position),l&&l(r)),()=>{u&&u(r),c.hasControl(i)&&c.removeControl(i)}},[]),i}function me(e){const t=w(({mapLib:o})=>new o.AttributionControl(e),{position:e.position});return s.useEffect(()=>{S(t._container,e.style)},[e.style]),null}s.memo(me);function he(e){const t=w(({mapLib:o})=>new o.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return s.useEffect(()=>{S(t._controlContainer,e.style)},[e.style]),null}const ge=s.memo(he);function pe(e,t){const o=s.useRef({props:e}),n=w(({mapLib:r})=>{const i=new r.GeolocateControl(e),a=i._setupUI;return i._setupUI=l=>{i._container.hasChildNodes()||a(l)},i.on("geolocate",l=>{var u,c;(c=(u=o.current.props).onGeolocate)===null||c===void 0||c.call(u,l)}),i.on("error",l=>{var u,c;(c=(u=o.current.props).onError)===null||c===void 0||c.call(u,l)}),i.on("outofmaxbounds",l=>{var u,c;(c=(u=o.current.props).onOutOfMaxBounds)===null||c===void 0||c.call(u,l)}),i.on("trackuserlocationstart",l=>{var u,c;(c=(u=o.current.props).onTrackUserLocationStart)===null||c===void 0||c.call(u,l)}),i.on("trackuserlocationend",l=>{var u,c;(c=(u=o.current.props).onTrackUserLocationEnd)===null||c===void 0||c.call(u,l)}),i},{position:e.position});return o.current.props=e,s.useImperativeHandle(t,()=>n,[]),s.useEffect(()=>{S(n._container,e.style)},[e.style]),null}const ye=s.memo(s.forwardRef(pe));function ve(e){const t=w(({mapLib:o})=>new o.NavigationControl(e),{position:e.position});return s.useEffect(()=>{S(t._container,e.style)},[e.style]),null}const _e=s.memo(ve);function be(e){const t=w(({mapLib:i})=>new i.ScaleControl(e),{position:e.position}),o=s.useRef(e),n=o.current;o.current=e;const{style:r}=e;return e.maxWidth!==void 0&&e.maxWidth!==n.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==n.unit&&t.setUnit(e.unit),s.useEffect(()=>{S(t._container,r)},[r]),null}const xe=s.memo(be);function R(e,t){if(!e)throw new Error(t)}function Ce(e,t,o,n){if(R(o.id===n.id,"layer id changed"),R(o.type===n.type,"layer type changed"),o.type==="custom"||n.type==="custom")return;const{layout:r={},paint:i={},filter:a,minzoom:l,maxzoom:u,beforeId:c}=o;if(c!==n.beforeId&&e.moveLayer(t,c),r!==n.layout){const d=n.layout||{};for(const f in r)h(r[f],d[f])||e.setLayoutProperty(t,f,r[f]);for(const f in d)r.hasOwnProperty(f)||e.setLayoutProperty(t,f,void 0)}if(i!==n.paint){const d=n.paint||{};for(const f in i)h(i[f],d[f])||e.setPaintProperty(t,f,i[f]);for(const f in d)i.hasOwnProperty(f)||e.setPaintProperty(t,f,void 0)}h(a,n.filter)||e.setFilter(t,a),(l!==n.minzoom||u!==n.maxzoom)&&e.setLayerZoomRange(t,l,u)}function Se(e,t,o){if(e.style&&e.style._loaded&&(!("source"in o)||e.getSource(o.source))){const n={...o,id:t};delete n.beforeId,e.addLayer(n,o.beforeId)}}let Ee=0;function Le(e){const t=s.useContext(M).map.getMap(),o=s.useRef(e),[,n]=s.useState(0),r=s.useMemo(()=>e.id||`jsx-layer-${Ee++}`,[]);if(s.useEffect(()=>{if(t){const a=()=>n(l=>l+1);return t.on("styledata",a),a(),()=>{t.off("styledata",a),t.style&&t.style._loaded&&t.getLayer(r)&&t.removeLayer(r)}}},[t]),t&&t.style&&t.getLayer(r))try{Ce(t,r,e,o.current)}catch(a){console.warn(a)}else Se(t,r,e);return o.current=e,null}let Me=0;function we(e,t,o){if(e.style&&e.style._loaded){const n={...o};return delete n.id,delete n.children,e.addSource(t,n),e.getSource(t)}return null}function Re(e,t,o){R(t.id===o.id,"source id changed"),R(t.type===o.type,"source type changed");let n="",r=0;for(const a in t)a!=="children"&&a!=="id"&&!h(o[a],t[a])&&(n=a,r++);if(!r)return;const i=t.type;if(i==="geojson")e.setData(t.data);else if(i==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else if("setCoordinates"in e&&r===1&&n==="coordinates")e.setCoordinates(t.coordinates);else if("setUrl"in e)switch(n){case"url":e.setUrl(t.url);break;case"tiles":e.setTiles(t.tiles);break}else console.warn(`Unable to update <Source> prop: ${n}`)}function Te(e){const t=s.useContext(M).map.getMap(),o=s.useRef(e),[,n]=s.useState(0),r=s.useMemo(()=>e.id||`jsx-source-${Me++}`,[]);s.useEffect(()=>{if(t){const a=()=>setTimeout(()=>n(l=>l+1),0);return t.on("styledata",a),a(),()=>{var l;if(t.off("styledata",a),t.style&&t.style._loaded&&t.getSource(r)){const u=(l=t.getStyle())===null||l===void 0?void 0:l.layers;if(u)for(const c of u)c.source===r&&t.removeLayer(c.id);t.removeSource(r)}}}},[t]);let i=t&&t.style&&t.getSource(r);return i?Re(i,e,o.current):i=we(t,r,e),o.current=e,i&&s.Children.map(e.children,a=>a&&s.cloneElement(a,{source:r}))||null}const ke=$(()=>import("./mapbox-gl-afc6cdab.js").then(e=>e.m),["assets/mapbox-gl-afc6cdab.js","assets/index-fc31389b.js","assets/index-fc777f1f.css"]),ze=(()=>s.forwardRef(function(t,o){return se(t,o,ke)}))(),je=ue,Pe=fe,Ae=ge,Ne=_e,Oe=ye,Fe=xe,We=Le,Ze=Te,qe=ze;function Ie(){const e=W();return p.jsx(Z,{styles:{".mapboxgl-ctrl.mapboxgl-ctrl-group":{borderRadius:"8px",boxShadow:e.customShadows.z8},".mapboxgl-ctrl-zoom-in":{borderRadius:"8px 8px 0 0"},".mapboxgl-ctrl-compass":{borderRadius:"0 0 8px 8px"},".mapboxgl-ctrl-fullscreen":{".mapboxgl-ctrl-icon":{transform:" scale(0.75)"}},".mapboxgl-ctrl-group button+button":{borderTop:`1px solid ${e.palette.divider}`},".mapboxgl-ctrl.mapboxgl-ctrl-scale":{border:"none",lineHeight:"14px",borderRadius:"4px",color:e.palette.common.white,fontWeight:e.typography.fontWeightBold,backgroundImage:"linear-gradient(to right, #8a2387, #e94057, #f27121)"}}})}const Ue=D(Pe)(({theme:e})=>{const t=e.direction==="rtl";return{"& .mapboxgl-popup-content":{maxWidth:180,padding:e.spacing(1),boxShadow:e.customShadows.z20,borderRadius:e.shape.borderRadius,backgroundColor:e.palette.grey[800]},"& .mapboxgl-popup-close-button":{width:24,height:24,fontSize:16,opacity:.48,color:e.palette.common.white,right:t&&"0",left:t&&"auto","&:hover":{opacity:1},"&:focus":{outline:"none"}},"&.mapboxgl-popup-anchor-top .mapboxgl-popup-tip":{marginBottom:-1,borderBottomColor:e.palette.grey[800]},"&.mapboxgl-popup-anchor-right .mapboxgl-popup-tip":{marginLeft:-1,borderLeftColor:e.palette.grey[800]},"&.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip":{marginTop:-1,borderTopColor:e.palette.grey[800]},"&.mapboxgl-popup-anchor-left .mapboxgl-popup-tip":{marginRight:-1,borderRightColor:e.palette.grey[800]}}}),Ve=D("div")(({theme:e})=>({...q({color:e.palette.grey[900]}),zIndex:9,minWidth:200,position:"absolute",top:e.spacing(1),right:e.spacing(1),padding:e.spacing(2),borderRadius:e.shape.borderRadius}));function Be({sx:e,children:t,...o}){return p.jsx(Ue,{anchor:"bottom",sx:e,...o,children:t})}Be.propTypes={children:E.node,sx:E.object};const k=20,De=`M20.2,15.7L20.2,15.7c1.1-1.6,1.8-3.6,1.8-5.7c0-5.6-4.5-10-10-10S2,4.5,2,10c0,2,0.6,3.9,1.6,5.4c0,0.1,0.1,0.2,0.2,0.3
  c0,0,0.1,0.1,0.1,0.2c0.2,0.3,0.4,0.6,0.7,0.9c2.6,3.1,7.4,7.6,7.4,7.6s4.8-4.5,7.4-7.5c0.2-0.3,0.5-0.6,0.7-0.9
  C20.1,15.8,20.2,15.8,20.2,15.7z`;function Ge({...e}){return p.jsx(je,{...e,children:p.jsx(V,{component:"svg",viewBox:"0 0 24 24",sx:{height:k,stroke:"none",cursor:"pointer",fill:t=>t.palette.error.main,transform:`translate(${-k/2}px,${-k}px)`},children:p.jsx("path",{d:De})})})}function He({hideScaleControl:e,hideGeolocateControl:t,hideFullscreenControl:o,hideNavigationnControl:n}){return p.jsxs(p.Fragment,{children:[p.jsx(Ie,{}),!t&&p.jsx(Oe,{position:"top-left",positionOptions:{enableHighAccuracy:!0}}),!o&&p.jsx(Ae,{position:"top-left"}),!e&&p.jsx(Fe,{position:"bottom-left"}),!n&&p.jsx(Ne,{position:"bottom-left"})]})}He.propTypes={hideFullscreenControl:E.bool,hideGeolocateControl:E.bool,hideNavigationnControl:E.bool,hideScaleControl:E.bool};export{We as L,qe as M,Ve as S,He as a,Ge as b,Be as c,Ze as d};
