import{y as w,c2 as U,c as A,r as c,c3 as G,j as r,C as L,T as Q,S as O,p as q,c4 as B,c5 as W,c6 as v,c7 as V,c8 as Y,W as z}from"./index-fc31389b.js";import{u as H,a as J,P as K,C as M,b as X,c as Z,d as $,e as D}from"./product-shop-details-view-fa7e0945.js";import{o as x}from"./orderBy-f223fbfc.js";import{u as tt}from"./use-debounce-4277542f.js";import{E as rt}from"./empty-content-f8c8f2e9.js";import"./index-e694d148.js";import"./confirm-dialog-3542fb36.js";import"./custom-breadcrumbs-55e72b55.js";import"./table-pagination-custom-fa4dd545.js";import"./rhf-autocomplete-947a9911.js";import"./upload-avatar-2f1e41c5.js";import"./format-number-8ee044d8.js";import"./fade-b19d01ee.js";import"./index-ec23ed6d.js";import"./image-9d9e55ff.js";import"./TextField-c5c5e45f.js";import"./FormControl-47574643.js";import"./FormLabel-a4ed3336.js";import"./Select-5f4f2f3f.js";import"./Menu-40ee519e.js";import"./Checkbox-1984f828.js";import"./SwitchBase-8d5bb026.js";import"./Chip-276a27ce.js";import"./FormControlLabel-f8d84e00.js";import"./FormGroup-32a713d2.js";import"./Switch-eb36a74c.js";import"./editor-a8953f53.js";import"./highlight-ad88e5bf.js";import"./Slider-7bd9077b.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-715ee6cf.js";import"./Radio-d0af1f14.js";import"./Autocomplete-79c5288c.js";import"./Close-2819fb88.js";import"./yup-674d2aca.js";import"./CardHeader-a7b93930.js";import"./LoadingButton-1fae9005.js";import"./CircularProgress-d1c25c6e.js";import"./color-preview-dbadb593.js";import"./Fab-38e4925e.js";import"./Pagination-6c92d77f.js";import"./FirstPage-356a7ad5.js";import"./Rating-7c89f5ac.js";import"./TablePagination-d87dbc27.js";import"./sumBy-6213febe.js";import"./_baseIteratee-18574c25.js";import"./_baseToString-fe72bdcf.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-79e656a6.js";import"./dialogTitleClasses-ab79cbbb.js";import"./DialogContent-1d2c436b.js";import"./DialogActions-cfb1f284.js";import"./Skeleton-b99a7c57.js";import"./incrementer-button-44417c48.js";import"./use-light-box-6fa02391.js";import"./carousel-arrow-index-0dd78820.js";import"./markdown-5ca73b49.js";import"./_baseEach-e1a0d60c.js";const R={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function et(){const t=w(),g=U(),o=A(),[n,d]=c.useState("featured"),[u,h]=c.useState(""),l=tt(u),[s,m]=c.useState(R),{products:e,productsLoading:p,productsEmpty:a}=H(),{searchResults:j,searchLoading:y}=J(l),C=c.useCallback((i,N)=>{m(k=>({...k,[i]:N}))},[]),S=ot({inputData:e,filters:s,sortBy:n}),f=!G(R,s),F=!S.length&&f,T=c.useCallback(i=>{d(i)},[]),I=c.useCallback(i=>{h(i)},[]),P=c.useCallback(()=>{m(R)},[]),b=r.jsxs(O,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"column",sm:"row"},children:[r.jsx(Z,{query:l,results:j,onSearch:I,loading:y,hrefItem:i=>q.product.details(i)}),r.jsxs(O,{direction:"row",spacing:1,flexShrink:0,children:[r.jsx($,{open:o.value,onOpen:o.onTrue,onClose:o.onFalse,filters:s,onFilters:C,canReset:f,onResetFilters:P,colorOptions:B,ratingOptions:W,genderOptions:v,categoryOptions:["all",...V]}),r.jsx(D,{sort:n,onSort:T,sortOptions:Y})]})]}),_=r.jsx(K,{filters:s,onFilters:C,canReset:f,onResetFilters:P,results:S.length}),E=r.jsx(rt,{filled:!0,title:"No Data",sx:{py:10}});return r.jsxs(L,{maxWidth:t.themeStretch?!1:"lg",sx:{mb:15},children:[r.jsx(M,{totalItems:g.totalItems}),r.jsx(Q,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Shop"}),r.jsxs(O,{spacing:2.5,sx:{mb:{xs:3,md:5}},children:[b,f&&_]}),(F||a)&&E,r.jsx(X,{products:S,loading:p})]})}function ot({inputData:t,filters:g,sortBy:o}){const{gender:n,category:d,colors:u,priceRange:h,rating:l}=g,s=h[0],m=h[1];return o==="featured"&&(t=x(t,["totalSold"],["desc"])),o==="newest"&&(t=x(t,["createdAt"],["desc"])),o==="priceDesc"&&(t=x(t,["price"],["desc"])),o==="priceAsc"&&(t=x(t,["price"],["asc"])),n.length&&(t=t.filter(e=>n.includes(e.gender))),d!=="all"&&(t=t.filter(e=>e.category===d)),u.length&&(t=t.filter(e=>e.colors.some(p=>u.includes(p)))),(s!==0||m!==200)&&(t=t.filter(e=>e.price>=s&&e.price<=m)),l&&(t=t.filter(e=>{const p=a=>a==="up4Star"?4:a==="up3Star"?3:a==="up2Star"?2:1;return e.totalRatings>p(l)})),t}function lr(){return r.jsxs(r.Fragment,{children:[r.jsx(z,{children:r.jsx("title",{children:" Product: Shop"})}),r.jsx(et,{})]})}export{lr as default};
