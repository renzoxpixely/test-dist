import{j as e,S as A,a as E,y as v,r as n,c as I,c3 as O,p as u,C as H,B as T,R as N,e as S,q as U,dy as _,cg as V,d as W,ck as q,W as z}from"./index-fc31389b.js";import{u as G,h as K,i as J,j as M}from"./product-shop-details-view-fa7e0945.js";import"./_baseToString-fe72bdcf.js";import"./index-e694d148.js";import"./empty-content-f8c8f2e9.js";import{C as Q}from"./confirm-dialog-3542fb36.js";import{C as X}from"./custom-breadcrumbs-55e72b55.js";import{u as Y,e as Z,g as $}from"./use-table-8a0e2383.js";import{T as ee,b as te,a as oe,c as se,d as re,e as ie}from"./table-pagination-custom-fa4dd545.js";import{T as ae}from"./TablePagination-d87dbc27.js";import{S as m}from"./Skeleton-b99a7c57.js";import{T as ne,a as le,b as de}from"./TableContainer-2a71c457.js";import"./rhf-autocomplete-947a9911.js";import"./upload-avatar-2f1e41c5.js";import"./format-number-8ee044d8.js";import"./fade-b19d01ee.js";import"./index-ec23ed6d.js";import"./image-9d9e55ff.js";import"./TextField-c5c5e45f.js";import"./FormControl-47574643.js";import"./FormLabel-a4ed3336.js";import"./Select-5f4f2f3f.js";import"./Menu-40ee519e.js";import"./Checkbox-1984f828.js";import"./SwitchBase-8d5bb026.js";import"./Chip-276a27ce.js";import"./FormControlLabel-f8d84e00.js";import"./FormGroup-32a713d2.js";import"./Switch-eb36a74c.js";import"./editor-a8953f53.js";import"./highlight-ad88e5bf.js";import"./Slider-7bd9077b.js";import"./visuallyHidden-14c3de6e.js";import"./RadioGroup-715ee6cf.js";import"./Radio-d0af1f14.js";import"./Autocomplete-79c5288c.js";import"./Close-2819fb88.js";import"./yup-674d2aca.js";import"./CardHeader-a7b93930.js";import"./LoadingButton-1fae9005.js";import"./CircularProgress-d1c25c6e.js";import"./color-preview-dbadb593.js";import"./Fab-38e4925e.js";import"./Pagination-6c92d77f.js";import"./FirstPage-356a7ad5.js";import"./Rating-7c89f5ac.js";import"./sumBy-6213febe.js";import"./_baseIteratee-18574c25.js";import"./_baseSum-340d39f5.js";import"./DialogTitle-79e656a6.js";import"./dialogTitleClasses-ab79cbbb.js";import"./DialogContent-1d2c436b.js";import"./DialogActions-cfb1f284.js";import"./incrementer-button-44417c48.js";import"./use-light-box-6fa02391.js";import"./carousel-arrow-index-0dd78820.js";import"./markdown-5ca73b49.js";function ce({...s}){return e.jsx(ee,{...s,children:e.jsx(ae,{colSpan:12,children:e.jsxs(A,{spacing:3,direction:"row",alignItems:"center",children:[e.jsx(m,{sx:{borderRadius:1.5,width:48,height:48,flexShrink:0}}),e.jsx(m,{sx:{width:1,height:12}}),e.jsx(m,{sx:{width:180,height:12}}),e.jsx(m,{sx:{width:160,height:12}}),e.jsx(m,{sx:{width:140,height:12}}),e.jsx(m,{sx:{width:120,height:12}})]})})})}const he=[{id:"name",label:"Product"},{id:"createdAt",label:"Create at",width:160},{id:"inventoryType",label:"Stock",width:160},{id:"price",label:"Price",width:140},{id:"publish",label:"Publish",width:110},{id:"",width:88}],me=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],j={name:"",publish:[],stock:[]};function pe(){const s=E(),t=Y(),w=v(),[i,c]=n.useState([]),[l,p]=n.useState(j),{products:r,productsLoading:h,productsEmpty:g}=G(),x=I();n.useEffect(()=>{r.length&&c(r)},[r]);const d=ue({inputData:i,comparator:$(t.order,t.orderBy),filters:l}),b=d.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage),f=t.dense?60:80,R=!O(j,l),k=!d.length&&R||g,C=n.useCallback((o,a)=>{t.onResetPage(),p(P=>({...P,[o]:a}))},[t]),y=n.useCallback(o=>{const a=i.filter(P=>P.id!==o);c(a),t.onUpdatePageDeleteRow(b.length)},[b.length,t,i]),F=n.useCallback(()=>{const o=i.filter(a=>!t.selected.includes(a.id));c(o),t.onUpdatePageDeleteRows({totalRows:i.length,totalRowsInPage:b.length,totalRowsFiltered:d.length})},[d.length,b.length,t,i]),D=n.useCallback(o=>{s.push(u.dashboard.product.edit(o))},[s]),L=n.useCallback(o=>{s.push(u.dashboard.product.details(o))},[s]),B=n.useCallback(()=>{p(j)},[]);return e.jsxs(e.Fragment,{children:[e.jsxs(H,{maxWidth:w.themeStretch?!1:"lg",children:[e.jsx(X,{heading:"List",links:[{name:"Dashboard",href:u.dashboard.root},{name:"Product",href:u.dashboard.product.root},{name:"List"}],action:e.jsx(T,{component:N,href:u.dashboard.product.new,variant:"contained",startIcon:e.jsx(S,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsxs(U,{children:[e.jsx(K,{filters:l,onFilters:C,stockOptions:_,publishOptions:me}),R&&e.jsx(J,{filters:l,onFilters:C,onResetFilters:B,results:d.length,sx:{p:2.5,pt:0}}),e.jsxs(ne,{sx:{position:"relative",overflow:"unset"},children:[e.jsx(te,{dense:t.dense,numSelected:t.selected.length,rowCount:i.length,onSelectAllRows:o=>t.onSelectAllRows(o,i.map(a=>a.id)),action:e.jsx(V,{title:"Delete",children:e.jsx(W,{color:"primary",onClick:x.onTrue,children:e.jsx(S,{icon:"solar:trash-bin-trash-bold"})})})}),e.jsx(q,{children:e.jsxs(le,{size:t.dense?"small":"medium",sx:{minWidth:960},children:[e.jsx(oe,{order:t.order,orderBy:t.orderBy,headLabel:he,rowCount:i.length,numSelected:t.selected.length,onSort:t.onSort,onSelectAllRows:o=>t.onSelectAllRows(o,i.map(a=>a.id))}),e.jsxs(de,{children:[h?[...Array(t.rowsPerPage)].map((o,a)=>e.jsx(ce,{sx:{height:f}},a)):e.jsx(e.Fragment,{children:d.slice(t.page*t.rowsPerPage,t.page*t.rowsPerPage+t.rowsPerPage).map(o=>e.jsx(M,{row:o,selected:t.selected.includes(o.id),onSelectRow:()=>t.onSelectRow(o.id),onDeleteRow:()=>y(o.id),onEditRow:()=>D(o.id),onViewRow:()=>L(o.id)},o.id))}),e.jsx(se,{height:f,emptyRows:Z(t.page,t.rowsPerPage,i.length)}),e.jsx(re,{notFound:k})]})]})})]}),e.jsx(ie,{count:d.length,page:t.page,rowsPerPage:t.rowsPerPage,onPageChange:t.onChangePage,onRowsPerPageChange:t.onChangeRowsPerPage,dense:t.dense,onChangeDense:t.onChangeDense})]})]}),e.jsx(Q,{open:x.value,onClose:x.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",t.selected.length," "]})," items?"]}),action:e.jsx(T,{variant:"contained",color:"error",onClick:()=>{F(),x.onFalse()},children:"Delete"})})]})}function ue({inputData:s,comparator:t,filters:w}){const{name:i,stock:c,publish:l}=w,p=s.map((r,h)=>[r,h]);return p.sort((r,h)=>{const g=t(r[0],h[0]);return g!==0?g:r[1]-h[1]}),s=p.map(r=>r[0]),i&&(s=s.filter(r=>r.name.toLowerCase().indexOf(i.toLowerCase())!==-1)),c.length&&(s=s.filter(r=>c.includes(r.inventoryType))),l.length&&(s=s.filter(r=>l.includes(r.publish))),s}function wt(){return e.jsxs(e.Fragment,{children:[e.jsx(z,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(pe,{})]})}export{wt as default};
